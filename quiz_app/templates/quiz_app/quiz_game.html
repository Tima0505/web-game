<!DOCTYPE html>
<html>
<head>
    <title>Игра</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(to right, #ffecd2, #fcb69f); /* градиент фона */
            font-family: 'Arial', sans-serif;
        }
        h1 {
            text-align: center;
            color: #333;
            margin-top: 20px;
            text-shadow: 1px 1px #fff;
        }
        #quiz-game {
            max-width: 600px;
            margin: 40px auto;
            padding: 30px;
            background: #a8edea; /* светло-голубой фон карточки */
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
            text-align: center;
        }
        #quiz-question {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: #333;
        }
        #quiz-answer {
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 8px;
            border: 2px solid #6a82fb;
            font-size: 1.1rem;
        }
        #submit-answer {
            background-color: #6a82fb;
            border: none;
            color: white;
            padding: 10px 20px;
            font-size: 1.2rem;
            border-radius: 8px;
            transition: 0.3s;
        }
        #submit-answer:hover {
            background-color: #fc5c7d;
        }
        #score {
            font-weight: bold;
            font-size: 1.2rem;
            margin-top: 15px;
            color: #333;
        }
    </style>
</head>
<body>
    <h1>Викторина</h1>

    <div id="quiz-game">
        <div id="quiz-question"></div>
        <input type="text" id="quiz-answer" placeholder="Ваш ответ">
        <button id="submit-answer">Ответить</button>
        <div id="score">Очки: 0</div>
    </div>

    <script>
        const questions = [
            {% for q in questions %}
            {question: "{{ q.question_text }}", answer: "{{ q.answer_text }}"},
            {% endfor %}
        ];

        let score = 0;
        let currentQuestion = 0;

        function showQuestion() {
            if(currentQuestion >= questions.length){
                alert(`Игра окончена! Ваш счёт: ${score}`);
                return;
            }
            document.getElementById('quiz-question').innerText = questions[currentQuestion].question;
        }

        showQuestion();

        document.getElementById('submit-answer').onclick = () => {
            const userAnswer = document.getElementById('quiz-answer').value;
            if(userAnswer.toLowerCase() === questions[currentQuestion].answer.toLowerCase()){
                score++;
            }
            currentQuestion++;
            document.getElementById('score').innerText = `Очки: ${score}`;
            document.getElementById('quiz-answer').value = '';
            showQuestion();
        }
    </script>
</body>
</html>
